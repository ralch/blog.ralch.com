<!doctype html><html lang=en dir=auto>
<head><meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta name=robots content="index, follow">
<title>Design Patterns in Golang: Adapter | Svetlin Ralchev | Blog</title>
<meta name=keywords content="go,adapter,structural design patterns">
<meta name=description content="Introduction The Adapter Pattern is responsible for adaptation of two incompatible interfaces. It is a structural pattern that is responsible to join functionalities of independent or incompatible interfaces without modifing their implementation.
Interfaces may be incompatible but the inner functionality should suit the need. It allows otherwise incompatible objects to work together by converting the interface of each struct into an interface expected by the clients.
Purpose  Impedance match an old component to a new system Wrap the interface of a object into another interface clients expect.">
<meta name=author content="Svetlin Ralchev">
<link rel=canonical href=http://blog.ralch.com/articles/design-patterns/golang-adapter/>
<link crossorigin=anonymous href=/assets/css/stylesheet.min.5e2b4101351c21e906f398ae96901791830f58d430f96f2659dab7eaef7b3cb7.css integrity="sha256-XitBATUcIekG85iulpAXkYMPWNQw+W8mWdq36u97PLc=" rel="preload stylesheet" as=style>
<link rel=preload href=/logo.png as=image>
<script defer crossorigin=anonymous src=/assets/js/highlight.min.7680afc38aa6b15ddf158a4f3780b7b1f7dde7e91d26f073e6229bb7a0793c92.js integrity="sha256-doCvw4qmsV3fFYpPN4C3sffd5+kdJvBz5iKbt6B5PJI=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=http://blog.ralch.com/favicon.ico>
<link rel=icon type=image/png sizes=16x16 href=http://blog.ralch.com/favicon-16x16.png>
<link rel=icon type=image/png sizes=32x32 href=http://blog.ralch.com/favicon-32x32.png>
<link rel=apple-touch-icon href=http://blog.ralch.com/apple-touch-icon.png>
<link rel=mask-icon href=http://blog.ralch.com/safari-pinned-tab.svg>
<meta name=theme-color content="#2e2e33">
<meta name=msapplication-TileColor content="#2e2e33">
<meta name=generator content="Hugo 0.88.1">
<noscript>
<style>#theme-toggle,.top-link{display:none}</style>
<style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style>
</noscript>
<script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(a,e,f,g,b,c,d){a.GoogleAnalyticsObject=b,a[b]=a[b]||function(){(a[b].q=a[b].q||[]).push(arguments)},a[b].l=1*new Date,c=e.createElement(f),d=e.getElementsByTagName(f)[0],c.async=1,c.src=g,d.parentNode.insertBefore(c,d)}(window,document,'script','https://www.google-analytics.com/analytics.js','ga'),ga('create','UA-62134307-2','auto'),ga('send','pageview'))</script><meta property="og:title" content="Design Patterns in Golang: Adapter">
<meta property="og:description" content="Introduction The Adapter Pattern is responsible for adaptation of two incompatible interfaces. It is a structural pattern that is responsible to join functionalities of independent or incompatible interfaces without modifing their implementation.
Interfaces may be incompatible but the inner functionality should suit the need. It allows otherwise incompatible objects to work together by converting the interface of each struct into an interface expected by the clients.
Purpose  Impedance match an old component to a new system Wrap the interface of a object into another interface clients expect.">
<meta property="og:type" content="article">
<meta property="og:url" content="http://blog.ralch.com/articles/design-patterns/golang-adapter/"><meta property="article:section" content="articles">
<meta property="article:published_time" content="2016-02-22T08:42:38+00:00">
<meta property="article:modified_time" content="2016-02-22T08:42:38+00:00">
<meta name=twitter:card content="summary">
<meta name=twitter:title content="Design Patterns in Golang: Adapter">
<meta name=twitter:description content="Introduction The Adapter Pattern is responsible for adaptation of two incompatible interfaces. It is a structural pattern that is responsible to join functionalities of independent or incompatible interfaces without modifing their implementation.
Interfaces may be incompatible but the inner functionality should suit the need. It allows otherwise incompatible objects to work together by converting the interface of each struct into an interface expected by the clients.
Purpose  Impedance match an old component to a new system Wrap the interface of a object into another interface clients expect.">
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Articles","item":"http://blog.ralch.com/articles/"},{"@type":"ListItem","position":3,"name":"Design Patterns in Golang: Adapter","item":"http://blog.ralch.com/articles/design-patterns/golang-adapter/"}]}</script>
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Design Patterns in Golang: Adapter","name":"Design Patterns in Golang: Adapter","description":"Introduction The Adapter Pattern is responsible for adaptation of two incompatible interfaces. It is a structural pattern that is responsible to join functionalities of independent or incompatible interfaces without modifing their implementation.\nInterfaces may be incompatible but the inner functionality should suit the need. It allows otherwise incompatible objects to work together by converting the interface of each struct into an interface expected by the clients.\nPurpose  Impedance match an old component to a new system Wrap the interface of a object into another interface clients expect.","keywords":["go","adapter","structural design patterns"],"articleBody":"Introduction The Adapter Pattern is responsible for adaptation of two incompatible interfaces. It is a structural pattern that is responsible to join functionalities of independent or incompatible interfaces without modifing their implementation.\nInterfaces may be incompatible but the inner functionality should suit the need. It allows otherwise incompatible objects to work together by converting the interface of each struct into an interface expected by the clients.\nPurpose  Impedance match an old component to a new system Wrap the interface of a object into another interface clients expect. Adapter lets objects work together, that could not otherwise because of incompatible interfaces.  Design Pattern Diagram The structs/objects that are participating in adapter pattern are illustrated in the following diagram:\n   Target is the domain-specific interface that Client wants to use. Adapter adapts the interface Adaptee to the Target interface. It implements the Target interface in terms of the Adaptee. Adaptee defines an existing interface that needs adapting. Client collaborates with objects conforming to the Target interface.  The Target interface enables objects of adaptee types to be interchangeable with any other objects that might implement the same interface. However, the adaptees might not conform to the Target. The interface alone is not a sufficiently powerful mechanism. We need the Adapter pattern. An Adaptee offers similar functionality to the client, but under a different name and with possibly different parameters. The Adaptee is completely independent of the other classes and is oblivious to any naming conventions or signatures that they have.\nImplementation Lets explore how we should use the Adapter Design Pattern to adopt two incompatible payment systems and make them available for our customers. Assume that we are building system that should support PayPal and Bank payments. In addition, we are consuming two external libraries that handles each of this payment methods.\npackage paypal import ( \"errors\" \"fmt\" \"regexp\" ) var mailRegexp = regexp.MustCompile(`^[a-z0-9._%+\\-]+@[a-z0-9.\\-]+\\.[a-z]{2,4}$`) // Money of PayPal transactions type Money struct { // Amount \tAmount float64 // Currency for that amount \tCurrency string } // Payment in PayPal type Payment struct { // APIKey is the PayPal API key \tAPIKey string } // Send money func (*Payment) Send(senderEmail, recipientEmail string, money *Money) error { if !mailRegexp.MatchString(senderEmail) { return errors.New(\"Invalid sender email address\") } if !mailRegexp.MatchString(recipientEmail) { return errors.New(\"Invalid recipient email address\") } if money == nil { return errors.New(\"The money must be provided\") } if money.Amount  0 { return errors.New(\"The amount cannot be negative\") } if money.Currency == \"\" { return errors.New(\"The currency must be provided\") } fmt.Printf(\"Send %f %s from %s to %s\", money.Amount, money.Currency, senderEmail, recipientEmail) return nil } package bank import ( \"errors\" \"fmt\" \"time\" ) // AccountType determines the type of bank account type AccountType uint8 const ( // AccountTypeCurrent is a current bank account \tAccountTypeCurrent AccountType = iota // AccountTypeSaving is a saving bank account \tAccountTypeSaving ) // Account is a bank account type Account struct { // Owner is the bank account owner \tOwner string // Email of the owner \tEmail string // Balance is the bank account balance \tBalance float64 // Currency of the account \tCurrency string } // Transaction is the bank transaction type Transaction struct { FromAccount *Account ToAccount *Account Amount float64 Date time.Time Reason string } // Gateway for the Bank type Gateway struct { // Token Key \tToken string // Accounts \tAccounts []*Account } // FindAccountByEmail finds a bank account func (g *Gateway) FindAccountByEmail(email string) (*Account, error) { for _, account := range g.Accounts { if account.Email == email { return account, nil } } return nil, errors.New(\"Account Not Found\") } // ProcessTransaction processes a bank transaction func (g *Gateway) ProcessTransaction(t *Transaction) error { if t.FromAccount == nil { return errors.New(\"FromAccount is missing\") } if t.ToAccount == nil { return errors.New(\"ToAccount is missing\") } if t.Reason == \"\" { return errors.New(\"Reason is not provided\") } if t.Amount  0 { return errors.New(\"Invalid amount\") } if t.Amount  t.FromAccount.Balance { return errors.New(\"Insufficient funds\") } fmt.Printf(\"Transfered %f %s from %s to %s at %v\", t.Amount, t.FromAccount.Currency, t.FromAccount.Owner, t.ToAccount.Owner, t.Date) t.FromAccount.Balance -= t.Amount return nil } We are developing a shopping card that should work with different payment methods:\n// Checkouter checkouts order type Payment interface { // Pay from email to email this amount \tPay(fromEmail, toEmail string, amount float64) error } // Item in the shopping card type Item struct { // Name of the item \tName string // Price of the item \tPrice float64 } // ShoppingCard in online store type ShoppingCard struct { // Items im the ShoppingCard \tItems []*Item // PaymentMethod selected \tPaymentMethod Payment // ShopEmailAddress address of the shop \tShopEmailAddress string } // Checkout checkouts a shopping card func (c *ShoppingCard) Checkout(payeeEmail string) error { var total float64 for _, item := range c.Items { total += item.Price } return c.PaymentMethod.Pay(payeeEmail, c.ShopEmailAddress, total) } As you might see, the Bank API and PayPal API cannot be used as different payment options in the ShoppingCard object due to their different signatures.\nIn order to adopt them we should implement an adapters that obey the Payment interface.\nThe BankAdapter adapts the bank package API by wrapping bank.Gateway struct:\n// BankAdapter adapts bank API type BankAdapter struct { // Gateway of the bank \tGateway *bank.Gateway } // Pay from email to email this amount func (b *BankAdapter) Pay(fromEmail, toEmail string, amount float64) error { fromAccount, err := b.Gateway.FindAccountByEmail(fromEmail) if err != nil { return err } toAccount, err := b.Gateway.FindAccountByEmail(toEmail) if err != nil { return err } t := \u0026bank.Transaction{ FromAccount: fromAccount, ToAccount: toAccount, Amount: amount, Date: time.Now(), Reason: \"Payment to Online Store\", } return b.Gateway.ProcessTransaction(t) } PayPal API is adopted by PayPalAdapter struct:\n// PayPalAdapter adapts PayPal API type PayPalAdapter struct { Payment *paypal.Payment } // Pay from email to email this amount func (p *PayPalAdapter) Pay(fromEmail, toEmail string, amount float64) error { return p.Payment.Send(fromEmail, toEmail, \u0026paypal.Money{Amount: amount, Currency: \"USD\"}) } Verdict The Adapter Pattern is used wherever there is code to be wrapped up and redirected to a different implementation.\n But How Much the Adapter Should Do?\n If the Target and Adaptee has similarities then the adapter has just to delegate the requests from the Target to the Adaptee. If Target and Adaptee are not similar, then the adapter might have to convert the data structures between those and to implement the operations required by the Target but not implemented by the Adaptee.\n","wordCount":"1054","inLanguage":"en","datePublished":"2016-02-22T08:42:38Z","dateModified":"2016-02-22T08:42:38Z","author":{"@type":"Person","name":"Svetlin Ralchev"},"mainEntityOfPage":{"@type":"WebPage","@id":"http://blog.ralch.com/articles/design-patterns/golang-adapter/"},"publisher":{"@type":"Organization","name":"Svetlin Ralchev | Blog","logo":{"@type":"ImageObject","url":"http://blog.ralch.com/favicon.ico"}}}</script>
</head>
<body id=top>
<script>window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script>
<header class=header>
<nav class=nav>
<div class=logo>
<a href=http://blog.ralch.com accesskey=h title="Svetlin Ralchev (Alt + H)">
<img src=/logo.png alt=logo aria-label=logo height=35>Svetlin Ralchev</a>
<span class=logo-switches>
</span>
</div>
<ul id=menu>
<li>
<a href=http://blog.ralch.com/archives title=Archive>
<span>Archive</span>
</a>
</li>
<li>
<a href=http://blog.ralch.com/tags/ title=Tags>
<span>Tags</span>
</a>
</li>
<li>
<a href=http://blog.ralch.com/categories/ title=Categories>
<span>Categories</span>
</a>
</li>
</ul>
</nav>
</header>
<main class=main>
<article class=post-single>
<header class=post-header>
<div class=breadcrumbs><a href=http://blog.ralch.com>Home</a>&nbsp;»&nbsp;<a href=http://blog.ralch.com/articles/>Articles</a></div>
<h1 class=post-title>
Design Patterns in Golang: Adapter
</h1>
<div class=post-meta>February 22, 2016&nbsp;·&nbsp;5 min&nbsp;·&nbsp;Svetlin Ralchev
</div>
</header> <div class=toc>
<details>
<summary accesskey=c title="(Alt + C)">
<span class=details>Table of Contents</span>
</summary>
<div class=inner><ul>
<li>
<a href=#introduction aria-label=Introduction>Introduction</a></li>
<li>
<a href=#purpose aria-label=Purpose>Purpose</a></li>
<li>
<a href=#design-pattern-diagram aria-label="Design Pattern Diagram">Design Pattern Diagram</a></li>
<li>
<a href=#implementation aria-label=Implementation>Implementation</a></li>
<li>
<a href=#verdict aria-label=Verdict>Verdict</a>
</li>
</ul>
</div>
</details>
</div>
<div class=post-content><h4 id=introduction>Introduction<a hidden class=anchor aria-hidden=true href=#introduction>#</a></h4>
<p><code>The Adapter Pattern</code> is responsible for adaptation of two incompatible
interfaces. It is a structural pattern that is responsible to join
functionalities of independent or incompatible interfaces without modifing
their implementation.</p>
<p>Interfaces may be incompatible but the inner functionality should suit the
need. It allows otherwise incompatible objects to work together by converting
the interface of each struct into an interface expected by the clients.</p>
<h4 id=purpose>Purpose<a hidden class=anchor aria-hidden=true href=#purpose>#</a></h4>
<ul>
<li>Impedance match an old component to a new system</li>
<li>Wrap the interface of a object into another interface clients expect.</li>
<li>Adapter lets objects work together, that could not otherwise because of incompatible interfaces.</li>
</ul>
<h4 id=design-pattern-diagram>Design Pattern Diagram<a hidden class=anchor aria-hidden=true href=#design-pattern-diagram>#</a></h4>
<p>The structs/objects that are participating in adapter pattern are illustrated
in the following diagram:</p>
<figure>
<img loading=lazy src=/media/golang/design-patterns/adapter.gif alt="Adapter Class Diagram">
</figure>
<ul>
<li><code>Target</code> is the domain-specific interface that Client wants to use.</li>
<li><code>Adapter</code> adapts the interface <code>Adaptee</code> to the <code>Target</code> interface. It
implements the <code>Target</code> interface in terms of the Adaptee.</li>
<li><code>Adaptee</code> defines an existing interface that needs adapting.</li>
<li><code>Client</code> collaborates with objects conforming to the <code>Target</code> interface.</li>
</ul>
<p>The <code>Target</code> interface enables objects of adaptee types to be interchangeable
with any other objects that might implement the same interface. However, the
adaptees might not conform to the <code>Target</code>. The interface alone is not a
sufficiently powerful mechanism. We need the Adapter pattern. An <code>Adaptee</code>
offers similar functionality to the client, but under a different name and with
possibly different parameters. The <code>Adaptee</code> is completely independent of the
other classes and is oblivious to any naming conventions or signatures that
they have.</p>
<h4 id=implementation>Implementation<a hidden class=anchor aria-hidden=true href=#implementation>#</a></h4>
<p>Lets explore how we should use the Adapter Design Pattern to adopt two
incompatible payment systems and make them available for our customers. Assume
that we are building system that should support <code>PayPal</code> and <code>Bank</code> payments.
In addition, we are consuming two external libraries that handles each of this
payment methods.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Golang data-lang=Golang><span style=color:#f92672>package</span> <span style=color:#a6e22e>paypal</span>

<span style=color:#f92672>import</span> (
	<span style=color:#e6db74>&#34;errors&#34;</span>
	<span style=color:#e6db74>&#34;fmt&#34;</span>
	<span style=color:#e6db74>&#34;regexp&#34;</span>
)

<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>mailRegexp</span> = <span style=color:#a6e22e>regexp</span>.<span style=color:#a6e22e>MustCompile</span>(<span style=color:#e6db74>`^[a-z0-9._%+\-]+@[a-z0-9.\-]+\.[a-z]{2,4}$`</span>)

<span style=color:#75715e>// Money of PayPal transactions
</span><span style=color:#75715e></span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>Money</span> <span style=color:#66d9ef>struct</span> {
	<span style=color:#75715e>// Amount
</span><span style=color:#75715e></span>	<span style=color:#a6e22e>Amount</span> <span style=color:#66d9ef>float64</span>
	<span style=color:#75715e>// Currency for that amount
</span><span style=color:#75715e></span>	<span style=color:#a6e22e>Currency</span> <span style=color:#66d9ef>string</span>
}

<span style=color:#75715e>// Payment in PayPal
</span><span style=color:#75715e></span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>Payment</span> <span style=color:#66d9ef>struct</span> {
	<span style=color:#75715e>// APIKey is the PayPal API key
</span><span style=color:#75715e></span>	<span style=color:#a6e22e>APIKey</span> <span style=color:#66d9ef>string</span>
}

<span style=color:#75715e>// Send money
</span><span style=color:#75715e></span><span style=color:#66d9ef>func</span> (<span style=color:#f92672>*</span><span style=color:#a6e22e>Payment</span>) <span style=color:#a6e22e>Send</span>(<span style=color:#a6e22e>senderEmail</span>, <span style=color:#a6e22e>recipientEmail</span> <span style=color:#66d9ef>string</span>, <span style=color:#a6e22e>money</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>Money</span>) <span style=color:#66d9ef>error</span> {
	<span style=color:#66d9ef>if</span> !<span style=color:#a6e22e>mailRegexp</span>.<span style=color:#a6e22e>MatchString</span>(<span style=color:#a6e22e>senderEmail</span>) {
		<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>errors</span>.<span style=color:#a6e22e>New</span>(<span style=color:#e6db74>&#34;Invalid sender email address&#34;</span>)
	}

	<span style=color:#66d9ef>if</span> !<span style=color:#a6e22e>mailRegexp</span>.<span style=color:#a6e22e>MatchString</span>(<span style=color:#a6e22e>recipientEmail</span>) {
		<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>errors</span>.<span style=color:#a6e22e>New</span>(<span style=color:#e6db74>&#34;Invalid recipient email address&#34;</span>)
	}

	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>money</span> <span style=color:#f92672>==</span> <span style=color:#66d9ef>nil</span> {
		<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>errors</span>.<span style=color:#a6e22e>New</span>(<span style=color:#e6db74>&#34;The money must be provided&#34;</span>)
	}

	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>money</span>.<span style=color:#a6e22e>Amount</span> <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>0</span> {
		<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>errors</span>.<span style=color:#a6e22e>New</span>(<span style=color:#e6db74>&#34;The amount cannot be negative&#34;</span>)
	}

	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>money</span>.<span style=color:#a6e22e>Currency</span> <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;&#34;</span> {
		<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>errors</span>.<span style=color:#a6e22e>New</span>(<span style=color:#e6db74>&#34;The currency must be provided&#34;</span>)
	}

	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;Send %f %s from %s to %s&#34;</span>, <span style=color:#a6e22e>money</span>.<span style=color:#a6e22e>Amount</span>, <span style=color:#a6e22e>money</span>.<span style=color:#a6e22e>Currency</span>, <span style=color:#a6e22e>senderEmail</span>, <span style=color:#a6e22e>recipientEmail</span>)
	<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nil</span>
}
</code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Golang data-lang=Golang><span style=color:#f92672>package</span> <span style=color:#a6e22e>bank</span>

<span style=color:#f92672>import</span> (
	<span style=color:#e6db74>&#34;errors&#34;</span>
	<span style=color:#e6db74>&#34;fmt&#34;</span>
	<span style=color:#e6db74>&#34;time&#34;</span>
)

<span style=color:#75715e>// AccountType determines the type of bank account
</span><span style=color:#75715e></span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>AccountType</span> <span style=color:#66d9ef>uint8</span>

<span style=color:#66d9ef>const</span> (
	<span style=color:#75715e>// AccountTypeCurrent is a current bank account
</span><span style=color:#75715e></span>	<span style=color:#a6e22e>AccountTypeCurrent</span> <span style=color:#a6e22e>AccountType</span> = <span style=color:#66d9ef>iota</span>
	<span style=color:#75715e>// AccountTypeSaving is a saving bank account
</span><span style=color:#75715e></span>	<span style=color:#a6e22e>AccountTypeSaving</span>
)

<span style=color:#75715e>// Account is a bank account
</span><span style=color:#75715e></span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>Account</span> <span style=color:#66d9ef>struct</span> {
	<span style=color:#75715e>// Owner is the bank account owner
</span><span style=color:#75715e></span>	<span style=color:#a6e22e>Owner</span> <span style=color:#66d9ef>string</span>
	<span style=color:#75715e>// Email of the owner
</span><span style=color:#75715e></span>	<span style=color:#a6e22e>Email</span> <span style=color:#66d9ef>string</span>
	<span style=color:#75715e>// Balance is the bank account balance
</span><span style=color:#75715e></span>	<span style=color:#a6e22e>Balance</span> <span style=color:#66d9ef>float64</span>
	<span style=color:#75715e>// Currency of the account
</span><span style=color:#75715e></span>	<span style=color:#a6e22e>Currency</span> <span style=color:#66d9ef>string</span>
}

<span style=color:#75715e>// Transaction is the bank transaction
</span><span style=color:#75715e></span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>Transaction</span> <span style=color:#66d9ef>struct</span> {
	<span style=color:#a6e22e>FromAccount</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>Account</span>
	<span style=color:#a6e22e>ToAccount</span>   <span style=color:#f92672>*</span><span style=color:#a6e22e>Account</span>
	<span style=color:#a6e22e>Amount</span>      <span style=color:#66d9ef>float64</span>
	<span style=color:#a6e22e>Date</span>        <span style=color:#a6e22e>time</span>.<span style=color:#a6e22e>Time</span>
	<span style=color:#a6e22e>Reason</span>      <span style=color:#66d9ef>string</span>
}

<span style=color:#75715e>// Gateway for the Bank
</span><span style=color:#75715e></span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>Gateway</span> <span style=color:#66d9ef>struct</span> {
	<span style=color:#75715e>// Token Key
</span><span style=color:#75715e></span>	<span style=color:#a6e22e>Token</span> <span style=color:#66d9ef>string</span>
	<span style=color:#75715e>// Accounts
</span><span style=color:#75715e></span>	<span style=color:#a6e22e>Accounts</span> []<span style=color:#f92672>*</span><span style=color:#a6e22e>Account</span>
}

<span style=color:#75715e>// FindAccountByEmail finds a bank account
</span><span style=color:#75715e></span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>g</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>Gateway</span>) <span style=color:#a6e22e>FindAccountByEmail</span>(<span style=color:#a6e22e>email</span> <span style=color:#66d9ef>string</span>) (<span style=color:#f92672>*</span><span style=color:#a6e22e>Account</span>, <span style=color:#66d9ef>error</span>) {
	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>_</span>, <span style=color:#a6e22e>account</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>g</span>.<span style=color:#a6e22e>Accounts</span> {
		<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>account</span>.<span style=color:#a6e22e>Email</span> <span style=color:#f92672>==</span> <span style=color:#a6e22e>email</span> {
			<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>account</span>, <span style=color:#66d9ef>nil</span>
		}
	}
	<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nil</span>, <span style=color:#a6e22e>errors</span>.<span style=color:#a6e22e>New</span>(<span style=color:#e6db74>&#34;Account Not Found&#34;</span>)
}

<span style=color:#75715e>// ProcessTransaction processes a bank transaction
</span><span style=color:#75715e></span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>g</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>Gateway</span>) <span style=color:#a6e22e>ProcessTransaction</span>(<span style=color:#a6e22e>t</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>Transaction</span>) <span style=color:#66d9ef>error</span> {
	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>FromAccount</span> <span style=color:#f92672>==</span> <span style=color:#66d9ef>nil</span> {
		<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>errors</span>.<span style=color:#a6e22e>New</span>(<span style=color:#e6db74>&#34;FromAccount is missing&#34;</span>)
	}
	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>ToAccount</span> <span style=color:#f92672>==</span> <span style=color:#66d9ef>nil</span> {
		<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>errors</span>.<span style=color:#a6e22e>New</span>(<span style=color:#e6db74>&#34;ToAccount is missing&#34;</span>)
	}

	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>Reason</span> <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;&#34;</span> {
		<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>errors</span>.<span style=color:#a6e22e>New</span>(<span style=color:#e6db74>&#34;Reason is not provided&#34;</span>)
	}

	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>Amount</span> <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>0</span> {
		<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>errors</span>.<span style=color:#a6e22e>New</span>(<span style=color:#e6db74>&#34;Invalid amount&#34;</span>)
	}

	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>Amount</span> &gt; <span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>FromAccount</span>.<span style=color:#a6e22e>Balance</span> {
		<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>errors</span>.<span style=color:#a6e22e>New</span>(<span style=color:#e6db74>&#34;Insufficient funds&#34;</span>)
	}

	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;Transfered %f %s from %s to %s at %v&#34;</span>, <span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>Amount</span>,
		<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>FromAccount</span>.<span style=color:#a6e22e>Currency</span>, <span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>FromAccount</span>.<span style=color:#a6e22e>Owner</span>, <span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>ToAccount</span>.<span style=color:#a6e22e>Owner</span>, <span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>Date</span>)

	<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>FromAccount</span>.<span style=color:#a6e22e>Balance</span> <span style=color:#f92672>-=</span> <span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>Amount</span>
	<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nil</span>
}
</code></pre></div><p>We are developing a shopping card that should work with different payment methods:</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Golang data-lang=Golang><span style=color:#75715e>// Checkouter checkouts order
</span><span style=color:#75715e></span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>Payment</span> <span style=color:#66d9ef>interface</span> {
	<span style=color:#75715e>// Pay from email to email this amount
</span><span style=color:#75715e></span>	<span style=color:#a6e22e>Pay</span>(<span style=color:#a6e22e>fromEmail</span>, <span style=color:#a6e22e>toEmail</span> <span style=color:#66d9ef>string</span>, <span style=color:#a6e22e>amount</span> <span style=color:#66d9ef>float64</span>) <span style=color:#66d9ef>error</span>
}

<span style=color:#75715e>// Item in the shopping card
</span><span style=color:#75715e></span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>Item</span> <span style=color:#66d9ef>struct</span> {
	<span style=color:#75715e>// Name of the item
</span><span style=color:#75715e></span>	<span style=color:#a6e22e>Name</span> <span style=color:#66d9ef>string</span>
	<span style=color:#75715e>// Price of the item
</span><span style=color:#75715e></span>	<span style=color:#a6e22e>Price</span> <span style=color:#66d9ef>float64</span>
}

<span style=color:#75715e>// ShoppingCard in online store
</span><span style=color:#75715e></span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>ShoppingCard</span> <span style=color:#66d9ef>struct</span> {
	<span style=color:#75715e>// Items im the ShoppingCard
</span><span style=color:#75715e></span>	<span style=color:#a6e22e>Items</span> []<span style=color:#f92672>*</span><span style=color:#a6e22e>Item</span>
	<span style=color:#75715e>// PaymentMethod selected
</span><span style=color:#75715e></span>	<span style=color:#a6e22e>PaymentMethod</span> <span style=color:#a6e22e>Payment</span>
	<span style=color:#75715e>// ShopEmailAddress address of the shop
</span><span style=color:#75715e></span>	<span style=color:#a6e22e>ShopEmailAddress</span> <span style=color:#66d9ef>string</span>
}

<span style=color:#75715e>// Checkout checkouts a shopping card
</span><span style=color:#75715e></span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>c</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>ShoppingCard</span>) <span style=color:#a6e22e>Checkout</span>(<span style=color:#a6e22e>payeeEmail</span> <span style=color:#66d9ef>string</span>) <span style=color:#66d9ef>error</span> {
	<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>total</span> <span style=color:#66d9ef>float64</span>

	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>_</span>, <span style=color:#a6e22e>item</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>c</span>.<span style=color:#a6e22e>Items</span> {
		<span style=color:#a6e22e>total</span> <span style=color:#f92672>+=</span> <span style=color:#a6e22e>item</span>.<span style=color:#a6e22e>Price</span>
	}

	<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>c</span>.<span style=color:#a6e22e>PaymentMethod</span>.<span style=color:#a6e22e>Pay</span>(<span style=color:#a6e22e>payeeEmail</span>, <span style=color:#a6e22e>c</span>.<span style=color:#a6e22e>ShopEmailAddress</span>, <span style=color:#a6e22e>total</span>)
}
</code></pre></div><p>As you might see, the Bank API and PayPal API cannot be used as different
payment options in the <code>ShoppingCard</code> object due to their different signatures.</p>
<p>In order to adopt them we should implement an adapters that obey the <code>Payment</code>
interface.</p>
<p>The <code>BankAdapter</code> adapts the bank package API by wrapping <code>bank.Gateway</code>
struct:</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Golang data-lang=Golang><span style=color:#75715e>// BankAdapter adapts bank API
</span><span style=color:#75715e></span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>BankAdapter</span> <span style=color:#66d9ef>struct</span> {
	<span style=color:#75715e>// Gateway of the bank
</span><span style=color:#75715e></span>	<span style=color:#a6e22e>Gateway</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>bank</span>.<span style=color:#a6e22e>Gateway</span>
}

<span style=color:#75715e>// Pay from email to email this amount
</span><span style=color:#75715e></span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>b</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>BankAdapter</span>) <span style=color:#a6e22e>Pay</span>(<span style=color:#a6e22e>fromEmail</span>, <span style=color:#a6e22e>toEmail</span> <span style=color:#66d9ef>string</span>, <span style=color:#a6e22e>amount</span> <span style=color:#66d9ef>float64</span>) <span style=color:#66d9ef>error</span> {
	<span style=color:#a6e22e>fromAccount</span>, <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>b</span>.<span style=color:#a6e22e>Gateway</span>.<span style=color:#a6e22e>FindAccountByEmail</span>(<span style=color:#a6e22e>fromEmail</span>)
	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
		<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>err</span>
	}

	<span style=color:#a6e22e>toAccount</span>, <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>b</span>.<span style=color:#a6e22e>Gateway</span>.<span style=color:#a6e22e>FindAccountByEmail</span>(<span style=color:#a6e22e>toEmail</span>)
	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
		<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>err</span>
	}

	<span style=color:#a6e22e>t</span> <span style=color:#f92672>:=</span> <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>bank</span>.<span style=color:#a6e22e>Transaction</span>{
		<span style=color:#a6e22e>FromAccount</span>: <span style=color:#a6e22e>fromAccount</span>,
		<span style=color:#a6e22e>ToAccount</span>:   <span style=color:#a6e22e>toAccount</span>,
		<span style=color:#a6e22e>Amount</span>:      <span style=color:#a6e22e>amount</span>,
		<span style=color:#a6e22e>Date</span>:        <span style=color:#a6e22e>time</span>.<span style=color:#a6e22e>Now</span>(),
		<span style=color:#a6e22e>Reason</span>:      <span style=color:#e6db74>&#34;Payment to Online Store&#34;</span>,
	}

	<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>b</span>.<span style=color:#a6e22e>Gateway</span>.<span style=color:#a6e22e>ProcessTransaction</span>(<span style=color:#a6e22e>t</span>)
}
</code></pre></div><p><code>PayPal</code> API is adopted by <code>PayPalAdapter</code> struct:</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Golang data-lang=Golang><span style=color:#75715e>// PayPalAdapter adapts PayPal API
</span><span style=color:#75715e></span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>PayPalAdapter</span> <span style=color:#66d9ef>struct</span> {
	<span style=color:#a6e22e>Payment</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>paypal</span>.<span style=color:#a6e22e>Payment</span>
}

<span style=color:#75715e>// Pay from email to email this amount
</span><span style=color:#75715e></span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>p</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>PayPalAdapter</span>) <span style=color:#a6e22e>Pay</span>(<span style=color:#a6e22e>fromEmail</span>, <span style=color:#a6e22e>toEmail</span> <span style=color:#66d9ef>string</span>, <span style=color:#a6e22e>amount</span> <span style=color:#66d9ef>float64</span>) <span style=color:#66d9ef>error</span> {
	<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>Payment</span>.<span style=color:#a6e22e>Send</span>(<span style=color:#a6e22e>fromEmail</span>, <span style=color:#a6e22e>toEmail</span>, <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>paypal</span>.<span style=color:#a6e22e>Money</span>{<span style=color:#a6e22e>Amount</span>: <span style=color:#a6e22e>amount</span>, <span style=color:#a6e22e>Currency</span>: <span style=color:#e6db74>&#34;USD&#34;</span>})
}
</code></pre></div><h4 id=verdict>Verdict<a hidden class=anchor aria-hidden=true href=#verdict>#</a></h4>
<p><code>The Adapter Pattern</code> is used wherever there is code to be wrapped up and
redirected to a different implementation.</p>
<blockquote>
<p>But How Much the <code>Adapter</code> Should Do?</p>
</blockquote>
<p>If the <code>Target</code> and <code>Adaptee</code> has similarities then the adapter has just to
delegate the requests from the Target to the Adaptee. If <code>Target</code> and <code>Adaptee</code>
are not similar, then the adapter might have to convert the data structures
between those and to implement the operations required by the Target but not
implemented by the Adaptee.</p>
</div>
<footer class=post-footer>
<ul class=post-tags>
<li><a href=http://blog.ralch.com/tags/go/>go</a></li>
<li><a href=http://blog.ralch.com/tags/adapter/>adapter</a></li>
<li><a href=http://blog.ralch.com/tags/structural-design-patterns/>structural design patterns</a></li>
</ul>
<nav class=paginav>
<a class=prev href=http://blog.ralch.com/articles/golang-handling-errors/>
<span class=title>« Prev Page</span>
<br>
<span>Errors handling in Golang</span>
</a>
<a class=next href=http://blog.ralch.com/articles/design-patterns/golang-prototype/>
<span class=title>Next Page »</span>
<br>
<span>Design Patterns in Golang: Prototype</span>
</a>
</nav>
<div class=share-buttons>
<a target=_blank rel="noopener noreferrer" aria-label="share Design Patterns in Golang: Adapter on twitter" href="https://twitter.com/intent/tweet/?text=Design%20Patterns%20in%20Golang%3a%20Adapter&url=http%3a%2f%2fblog.ralch.com%2farticles%2fdesign-patterns%2fgolang-adapter%2f&hashtags=go%2cadapter%2cstructuraldesignpatterns"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg>
</a>
<a target=_blank rel="noopener noreferrer" aria-label="share Design Patterns in Golang: Adapter on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=http%3a%2f%2fblog.ralch.com%2farticles%2fdesign-patterns%2fgolang-adapter%2f&title=Design%20Patterns%20in%20Golang%3a%20Adapter&summary=Design%20Patterns%20in%20Golang%3a%20Adapter&source=http%3a%2f%2fblog.ralch.com%2farticles%2fdesign-patterns%2fgolang-adapter%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg>
</a>
<a target=_blank rel="noopener noreferrer" aria-label="share Design Patterns in Golang: Adapter on reddit" href="https://reddit.com/submit?url=http%3a%2f%2fblog.ralch.com%2farticles%2fdesign-patterns%2fgolang-adapter%2f&title=Design%20Patterns%20in%20Golang%3a%20Adapter"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg>
</a>
<a target=_blank rel="noopener noreferrer" aria-label="share Design Patterns in Golang: Adapter on facebook" href="https://facebook.com/sharer/sharer.php?u=http%3a%2f%2fblog.ralch.com%2farticles%2fdesign-patterns%2fgolang-adapter%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg>
</a>
<a target=_blank rel="noopener noreferrer" aria-label="share Design Patterns in Golang: Adapter on whatsapp" href="https://api.whatsapp.com/send?text=Design%20Patterns%20in%20Golang%3a%20Adapter%20-%20http%3a%2f%2fblog.ralch.com%2farticles%2fdesign-patterns%2fgolang-adapter%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg>
</a>
<a target=_blank rel="noopener noreferrer" aria-label="share Design Patterns in Golang: Adapter on telegram" href="https://telegram.me/share/url?text=Design%20Patterns%20in%20Golang%3a%20Adapter&url=http%3a%2f%2fblog.ralch.com%2farticles%2fdesign-patterns%2fgolang-adapter%2f"><svg viewBox="2 2 28 28"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg>
</a>
</div>
</footer>
</article>
</main>
<footer class=footer>
<span>(c) 2021 Svetlin Ralchev</span>
<span>
Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a>
</span>
</footer>
<a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a>
<script>let menu=document.getElementById('menu');menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)},document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script>
<script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script>
<script>document.querySelectorAll('pre > code').forEach(b=>{const c=b.parentNode.parentNode,a=document.createElement('button');a.classList.add('copy-code'),a.innerText='copy';function d(){a.innerText='copied!',setTimeout(()=>{a.innerText='copy'},2e3)}a.addEventListener('click',e=>{if('clipboard'in navigator){navigator.clipboard.writeText(b.textContent),d();return}const a=document.createRange();a.selectNodeContents(b);const c=window.getSelection();c.removeAllRanges(),c.addRange(a);try{document.execCommand('copy'),d()}catch(a){}c.removeRange(a)}),c.classList.contains("highlight")?c.appendChild(a):c.parentNode.firstChild==c||(b.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?b.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(a):b.parentNode.appendChild(a))})</script>
</body>
</html>